function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var a=require("preact"),l=t(require("dlv"));function r(t){return null!=t}function u(t,n){for(var r in n)t[r]=n[r];return t}function p(t,n){var r=u({},t);for(var e in n)n.hasOwnProperty(e)&&(t[e]&&n[e]&&"object"==typeof t[e]&&"object"==typeof n[e]?r[e]=p(t[e],n[e]):r[e]=t[e]||n[e]);return r}function c(t){if("string"==typeof(t=t||{})&&(t=t.split(",")),"join"in t){for(var n={},r=0;r<t.length;r++){var e=t[r].trim();e&&(n[e.split(".").pop()]=e)}return n}return t}var f=/[?&#]intl=show/,e=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),((n.prototype=Object.create(t&&t.prototype)).constructor=n).prototype.getChildContext=function(){var t=this.props,n=t.scope,r=t.definition,e=t.mark,o=t.provider,i=u({},this.context.intl||{});return n&&(i.scope=n),r&&(i.dictionary=p(i.dictionary||{},r)),(e||"undefined"!=typeof location&&String(location).match(f))&&(i.mark=!0),i.provider=o,{intl:i}},n.prototype.render=function(t){return t.children},n}(a.Component);function o(n,r){if(arguments.length<2)return r=n,function(t){return o(t,r)};function t(t){return a.h(e,r||{},a.h(n,t))}return t.getWrappedComponent=n&&n.getWrappedComponent||function(){return n},t}var i,s={};function d(t,n){return i=n||s,t&&t.replace(/\{\{([\w.-]+)\}\}/g,h)}function h(t,n){for(var r=n.split("."),e=i,o=0;o<r.length;o++)if(null==(e=e[r[o]]))return"";return"string"==typeof e&&e.match(/\{\{/)&&(e=d(e,i)),e}function v(t,n){if((n||0===n)&&t&&"object"==typeof t)return t.splice?t[n]||t[0]:0===n&&r(t.none)?t.none:1===n&&r(t.one||t.singular)?t.one||t.singular:t.some||t.many||t.plural||t.other||t}function y(t,n,r,e,o,i,u){void 0===u&&(u=v),n&&(t=n+"."+t);var p=r&&l(r,t);return(p=o?u(p,o)||v(p,o):p)&&d(p,e)||i||null}function g(t,n){var r=t.value,e=t.id,o=n.intl;if(o&&o.mark){var i="dictionary"+(o&&o.scope?"."+o.scope:"")+"."+e;return a.h("mark",{style:{background:r?l(o,i)?"rgba(119,231,117,.5)":"rgba(229,226,41,.5)":"rgba(228,147,51,.5)"},title:e},r)}return r}function m(t,n){var r=t.id,e=t.children,o=t.plural,i=t.fields,u=n.intl,p=y(r,u&&u.scope,u&&u.dictionary,i,o,e,u&&u.provider||v);return a.h(g,{id:r,value:p})}function x(t,n,r){var e={};for(var o in n=n||{},t=c(t))if(t.hasOwnProperty(o)&&t[o]){var i=t[o];r||"string"!=typeof i?i.type===m&&(i=u({fallback:i.props.children},i.props),e[o]=y(i.id,n.scope,n.dictionary,i.fields,i.plural,i.fallback)):e[o]=y(i,n.scope,n.dictionary)}return e}function n(t,n){var r=t.children,e=n.intl;return r&&r.length?r.map(function(t){return a.cloneElement(t,x(t.props,e,!0))}):r&&a.cloneElement(r,x(r.props,e,!0))}function b(t){return a.h(n,null,a.h(k,{html:a.h(m,t),id:t.id}))}function k(t){var n=t.html,r=t.id,e=n?"string"==typeof n?a.h("span",{dangerouslySetInnerHTML:{__html:n}}):a.h("span",null,n):n;return a.h(g,{id:r,value:e})}function _(o){return function(e){function t(t,n){var r=x("function"==typeof o?o(t,n):o,n.intl);return a.h(e,u(u({},t),r))}return t.getWrappedComponent=e&&e.getWrappedComponent||function(){return e},t}}(o.intl=o).IntlProvider=e,o.Text=m,o.MarkupText=b,o.Localizer=n,o.withText=_,exports.IntlProvider=e,exports.Localizer=n,exports.MarkupText=b,exports.Text=m,exports.default=o,exports.intl=o,exports.withText=_;